2014/06/11 13:24:28 [error] [php] htmlspecialchars() expects parameter 1 to be string, object given (Z:\home\mis.my\yii\web\helpers\CHtml.php:103)
Stack trace:
#0 Z:\home\mis.my\yii\web\helpers\CHtml.php(158): renderAttributes()
#1 Z:\home\mis.my\yii\web\helpers\CHtml.php(2255): tag()
#2 Z:\home\mis.my\yii\web\helpers\CHtml.php(1609): activeInputField()
#3 Z:\home\mis.my\yii\web\widgets\CActiveForm.php(756): activeHiddenField()
#4 Z:\home\mis.my\www\protected\modules\doctors\components\widgets\views\CategorieViewWidget.php(34): CActiveForm->hiddenField()
#5 Z:\home\mis.my\yii\web\CBaseController.php(126): require()
#6 Z:\home\mis.my\yii\web\CBaseController.php(95): CategorieViewWidget->renderInternal()
#7 Z:\home\mis.my\yii\web\widgets\CWidget.php(244): CategorieViewWidget->renderFile()
#8 Z:\home\mis.my\www\protected\modules\doctors\components\widgets\CategorieViewWidget.php(69): CategorieViewWidget->render()
#9 Z:\home\mis.my\yii\web\CBaseController.php(173): CategorieViewWidget->run()
#10 Z:\home\mis.my\www\protected\modules\doctors\views\shedule\index.php(277): SheduleController->widget()
#11 Z:\home\mis.my\yii\web\CBaseController.php(126): require()
#12 Z:\home\mis.my\yii\web\CBaseController.php(95): SheduleController->renderInternal()
#13 Z:\home\mis.my\yii\web\CController.php(869): SheduleController->renderFile()
#14 Z:\home\mis.my\yii\web\CController.php(782): SheduleController->renderPartial()
#15 Z:\home\mis.my\www\protected\modules\doctors\controllers\SheduleController.php(173): SheduleController->render()
#16 Z:\home\mis.my\yii\web\actions\CInlineAction.php(49): SheduleController->actionView()
#17 Z:\home\mis.my\yii\web\CController.php(308): CInlineAction->runWithParams()
#18 Z:\home\mis.my\yii\web\filters\CFilterChain.php(133): SheduleController->runAction()
#19 Z:\home\mis.my\www\protected\components\Controller.php(33): CFilterChain->run()
#20 Z:\home\mis.my\yii\web\filters\CInlineFilter.php(58): SheduleController->filterGetAccessHierarchy()
#21 Z:\home\mis.my\yii\web\filters\CFilterChain.php(130): CInlineFilter->filter()
#22 Z:\home\mis.my\yii\web\CController.php(291): CFilterChain->run()
#23 Z:\home\mis.my\yii\web\CController.php(265): SheduleController->runActionWithFilters()
#24 Z:\home\mis.my\yii\web\CWebApplication.php(282): SheduleController->run()
#25 Z:\home\mis.my\yii\web\CWebApplication.php(141): CWebApplication->runController()
#26 Z:\home\mis.my\yii\base\CApplication.php(180): CWebApplication->processRequest()
#27 Z:\home\mis.my\www\index.php(13): CWebApplication->run()
REQUEST_URI=/index.php/doctors/shedule/view?cardid=59/14&date=2014-6-10&rowid=575
in Z:\home\mis.my\www\protected\modules\doctors\components\widgets\views\CategorieViewWidget.php (34)
in Z:\home\mis.my\www\protected\modules\doctors\components\widgets\CategorieViewWidget.php (69)
in Z:\home\mis.my\www\protected\modules\doctors\views\shedule\index.php (277)
2014/06/11 15:28:26 [error] [php] Undefined index: template_id (Z:\home\mis.my\www\protected\models\MedcardRecord.php:52)
Stack trace:
#0 Z:\home\mis.my\www\protected\modules\doctors\controllers\SheduleController.php(281): MedcardElementForPatient->getHistoryPoints()
#1 Z:\home\mis.my\www\protected\modules\doctors\controllers\SheduleController.php(152): SheduleController->getHistoryPoints()
#2 Z:\home\mis.my\yii\web\actions\CInlineAction.php(49): SheduleController->actionView()
#3 Z:\home\mis.my\yii\web\CController.php(308): CInlineAction->runWithParams()
#4 Z:\home\mis.my\yii\web\filters\CFilterChain.php(133): SheduleController->runAction()
#5 Z:\home\mis.my\www\protected\components\Controller.php(33): CFilterChain->run()
#6 Z:\home\mis.my\yii\web\filters\CInlineFilter.php(58): SheduleController->filterGetAccessHierarchy()
#7 Z:\home\mis.my\yii\web\filters\CFilterChain.php(130): CInlineFilter->filter()
#8 Z:\home\mis.my\yii\web\CController.php(291): CFilterChain->run()
#9 Z:\home\mis.my\yii\web\CController.php(265): SheduleController->runActionWithFilters()
#10 Z:\home\mis.my\yii\web\CWebApplication.php(282): SheduleController->run()
#11 Z:\home\mis.my\yii\web\CWebApplication.php(141): CWebApplication->runController()
#12 Z:\home\mis.my\yii\base\CApplication.php(180): CWebApplication->processRequest()
#13 Z:\home\mis.my\www\index.php(13): CWebApplication->run()
REQUEST_URI=/index.php/doctors/shedule/view?cardid=59/14&date=2014-6-10&rowid=575
in Z:\home\mis.my\www\protected\models\MedcardRecord.php (52)
in Z:\home\mis.my\www\protected\models\MedcardElementForPatient.php (213)
in Z:\home\mis.my\www\protected\models\MedcardElementForPatient.php (276)
2014/06/11 15:57:28 [error] [php] Undefined index: 9.1 (Z:\home\mis.my\www\protected\modules\doctors\controllers\SheduleController.php:482)
Stack trace:
#0 Z:\home\mis.my\yii\web\filters\CFilterChain.php(133): SheduleController->runAction()
#1 Z:\home\mis.my\www\protected\components\Controller.php(33): CFilterChain->run()
#2 Z:\home\mis.my\yii\web\filters\CInlineFilter.php(58): SheduleController->filterGetAccessHierarchy()
#3 Z:\home\mis.my\yii\web\filters\CFilterChain.php(130): CInlineFilter->filter()
#4 Z:\home\mis.my\yii\web\CController.php(291): CFilterChain->run()
#5 Z:\home\mis.my\yii\web\CController.php(265): SheduleController->runActionWithFilters()
#6 Z:\home\mis.my\yii\web\CWebApplication.php(282): SheduleController->run()
#7 Z:\home\mis.my\yii\web\CWebApplication.php(141): CWebApplication->runController()
#8 Z:\home\mis.my\yii\base\CApplication.php(180): CWebApplication->processRequest()
#9 Z:\home\mis.my\www\index.php(13): CWebApplication->run()
REQUEST_URI=/index.php/doctors/shedule/patientedit
in Z:\home\mis.my\www\protected\modules\doctors\controllers\SheduleController.php (482)
in Z:\home\mis.my\www\protected\components\Controller.php (33)
in Z:\home\mis.my\www\index.php (13)
2014/06/11 15:57:28 [error] [php] Undefined index: 4.1 (Z:\home\mis.my\www\protected\modules\doctors\controllers\SheduleController.php:482)
Stack trace:
#0 Z:\home\mis.my\yii\web\filters\CFilterChain.php(133): SheduleController->runAction()
#1 Z:\home\mis.my\www\protected\components\Controller.php(33): CFilterChain->run()
#2 Z:\home\mis.my\yii\web\filters\CInlineFilter.php(58): SheduleController->filterGetAccessHierarchy()
#3 Z:\home\mis.my\yii\web\filters\CFilterChain.php(130): CInlineFilter->filter()
#4 Z:\home\mis.my\yii\web\CController.php(291): CFilterChain->run()
#5 Z:\home\mis.my\yii\web\CController.php(265): SheduleController->runActionWithFilters()
#6 Z:\home\mis.my\yii\web\CWebApplication.php(282): SheduleController->run()
#7 Z:\home\mis.my\yii\web\CWebApplication.php(141): CWebApplication->runController()
#8 Z:\home\mis.my\yii\base\CApplication.php(180): CWebApplication->processRequest()
#9 Z:\home\mis.my\www\index.php(13): CWebApplication->run()
REQUEST_URI=/index.php/doctors/shedule/patientedit
in Z:\home\mis.my\www\protected\modules\doctors\controllers\SheduleController.php (482)
in Z:\home\mis.my\www\protected\components\Controller.php (33)
in Z:\home\mis.my\www\index.php (13)
2014/06/16 11:05:07 [error] [php] Invalid argument supplied for foreach() (Z:\home\mis.my\www\protected\models\MisActiveRecord.php:14)
Stack trace:
#0 Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php(216): PrintController->makePrintListData()
#1 Z:\home\mis.my\yii\web\actions\CInlineAction.php(49): PrintController->actionMakePrintListView()
#2 Z:\home\mis.my\yii\web\CController.php(308): CInlineAction->runWithParams()
#3 Z:\home\mis.my\yii\web\filters\CFilterChain.php(133): PrintController->runAction()
#4 Z:\home\mis.my\www\protected\components\Controller.php(33): CFilterChain->run()
#5 Z:\home\mis.my\yii\web\filters\CInlineFilter.php(58): PrintController->filterGetAccessHierarchy()
#6 Z:\home\mis.my\yii\web\filters\CFilterChain.php(130): CInlineFilter->filter()
#7 Z:\home\mis.my\yii\web\CController.php(291): CFilterChain->run()
#8 Z:\home\mis.my\yii\web\CController.php(265): PrintController->runActionWithFilters()
#9 Z:\home\mis.my\yii\web\CWebApplication.php(282): PrintController->run()
#10 Z:\home\mis.my\yii\web\CWebApplication.php(141): CWebApplication->runController()
#11 Z:\home\mis.my\yii\base\CApplication.php(180): CWebApplication->processRequest()
#12 Z:\home\mis.my\www\index.php(13): CWebApplication->run()
REQUEST_URI=/index.php/doctors/print/makeprintlistview?doctors=%5B97%5D&patients=%5B49%5D&date=&_=1402902290096
in Z:\home\mis.my\www\protected\models\MisActiveRecord.php (14)
in Z:\home\mis.my\www\protected\models\SheduleByDay.php (350)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (232)
2014/06/16 11:14:31 [error] [php] Invalid argument supplied for foreach() (Z:\home\mis.my\www\protected\models\MisActiveRecord.php:14)
Stack trace:
#0 Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php(216): PrintController->makePrintListData()
#1 Z:\home\mis.my\yii\web\actions\CInlineAction.php(49): PrintController->actionMakePrintListView()
#2 Z:\home\mis.my\yii\web\CController.php(308): CInlineAction->runWithParams()
#3 Z:\home\mis.my\yii\web\filters\CFilterChain.php(133): PrintController->runAction()
#4 Z:\home\mis.my\www\protected\components\Controller.php(33): CFilterChain->run()
#5 Z:\home\mis.my\yii\web\filters\CInlineFilter.php(58): PrintController->filterGetAccessHierarchy()
#6 Z:\home\mis.my\yii\web\filters\CFilterChain.php(130): CInlineFilter->filter()
#7 Z:\home\mis.my\yii\web\CController.php(291): CFilterChain->run()
#8 Z:\home\mis.my\yii\web\CController.php(265): PrintController->runActionWithFilters()
#9 Z:\home\mis.my\yii\web\CWebApplication.php(282): PrintController->run()
#10 Z:\home\mis.my\yii\web\CWebApplication.php(141): CWebApplication->runController()
#11 Z:\home\mis.my\yii\base\CApplication.php(180): CWebApplication->processRequest()
#12 Z:\home\mis.my\www\index.php(13): CWebApplication->run()
REQUEST_URI=/index.php/doctors/print/makeprintlistview?doctors=%5B97%5D&patients=%5B49%5D&date=&_=1402902290365
in Z:\home\mis.my\www\protected\models\MisActiveRecord.php (14)
in Z:\home\mis.my\www\protected\models\SheduleByDay.php (350)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (232)
2014/06/16 11:39:22 [error] [php] Undefined index: patients (Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php:213)
Stack trace:
#0 Z:\home\mis.my\yii\web\filters\CFilterChain.php(133): PrintController->runAction()
#1 Z:\home\mis.my\www\protected\components\Controller.php(33): CFilterChain->run()
#2 Z:\home\mis.my\yii\web\filters\CInlineFilter.php(58): PrintController->filterGetAccessHierarchy()
#3 Z:\home\mis.my\yii\web\filters\CFilterChain.php(130): CInlineFilter->filter()
#4 Z:\home\mis.my\yii\web\CController.php(291): CFilterChain->run()
#5 Z:\home\mis.my\yii\web\CController.php(265): PrintController->runActionWithFilters()
#6 Z:\home\mis.my\yii\web\CWebApplication.php(282): PrintController->run()
#7 Z:\home\mis.my\yii\web\CWebApplication.php(141): CWebApplication->runController()
#8 Z:\home\mis.my\yii\base\CApplication.php(180): CWebApplication->processRequest()
#9 Z:\home\mis.my\www\index.php(13): CWebApplication->run()
REQUEST_URI=/index.php/doctors/print/makeprintlistview?filters={%22groupOp%22:%22AND%22,%22rules%22:[{%22field%22:%22doctors_ids%22,%22op%22:%22in%22,%22data%22:[97]},{%22field%22:%22patients_ids%22,%22op%22:%22in%22,%22data%22:[97]},{%22field%22:%22patient_day%22,%22op%22:%22cn%22,%22data%22:%22%22}]}&_=1402904340832
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (213)
in Z:\home\mis.my\www\protected\components\Controller.php (33)
in Z:\home\mis.my\www\index.php (13)
2014/06/16 11:48:28 [error] [php] Undefined index: patients (Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php:213)
Stack trace:
#0 Z:\home\mis.my\yii\web\filters\CFilterChain.php(133): PrintController->runAction()
#1 Z:\home\mis.my\www\protected\components\Controller.php(33): CFilterChain->run()
#2 Z:\home\mis.my\yii\web\filters\CInlineFilter.php(58): PrintController->filterGetAccessHierarchy()
#3 Z:\home\mis.my\yii\web\filters\CFilterChain.php(130): CInlineFilter->filter()
#4 Z:\home\mis.my\yii\web\CController.php(291): CFilterChain->run()
#5 Z:\home\mis.my\yii\web\CController.php(265): PrintController->runActionWithFilters()
#6 Z:\home\mis.my\yii\web\CWebApplication.php(282): PrintController->run()
#7 Z:\home\mis.my\yii\web\CWebApplication.php(141): CWebApplication->runController()
#8 Z:\home\mis.my\yii\base\CApplication.php(180): CWebApplication->processRequest()
#9 Z:\home\mis.my\www\index.php(13): CWebApplication->run()
REQUEST_URI=/index.php/doctors/print/makeprintlistview?filters={%22groupOp%22:%22AND%22,%22rules%22:[{%22field%22:%22doctors_ids%22,%22op%22:%22in%22,%22data%22:[97]},{%22field%22:%22patients_ids%22,%22op%22:%22in%22,%22data%22:[97]},{%22field%22:%22patient_day%22,%22op%22:%22cn%22,%22data%22:%22%22}]}&_=1402904341092
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (213)
in Z:\home\mis.my\www\protected\components\Controller.php (33)
in Z:\home\mis.my\www\index.php (13)
2014/06/16 11:49:44 [error] [php] Invalid argument supplied for foreach() (Z:\home\mis.my\www\protected\models\MisActiveRecord.php:14)
Stack trace:
#0 Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php(216): PrintController->makePrintListData()
#1 Z:\home\mis.my\yii\web\actions\CInlineAction.php(49): PrintController->actionMakePrintListView()
#2 Z:\home\mis.my\yii\web\CController.php(308): CInlineAction->runWithParams()
#3 Z:\home\mis.my\yii\web\filters\CFilterChain.php(133): PrintController->runAction()
#4 Z:\home\mis.my\www\protected\components\Controller.php(33): CFilterChain->run()
#5 Z:\home\mis.my\yii\web\filters\CInlineFilter.php(58): PrintController->filterGetAccessHierarchy()
#6 Z:\home\mis.my\yii\web\filters\CFilterChain.php(130): CInlineFilter->filter()
#7 Z:\home\mis.my\yii\web\CController.php(291): CFilterChain->run()
#8 Z:\home\mis.my\yii\web\CController.php(265): PrintController->runActionWithFilters()
#9 Z:\home\mis.my\yii\web\CWebApplication.php(282): PrintController->run()
#10 Z:\home\mis.my\yii\web\CWebApplication.php(141): CWebApplication->runController()
#11 Z:\home\mis.my\yii\base\CApplication.php(180): CWebApplication->processRequest()
#12 Z:\home\mis.my\www\index.php(13): CWebApplication->run()
REQUEST_URI=/index.php/doctors/print/makeprintlistview?doctors=%5B97%5D&patients=%5B49%5D&date=&_=1402904973118
in Z:\home\mis.my\www\protected\models\MisActiveRecord.php (14)
in Z:\home\mis.my\www\protected\models\SheduleByDay.php (350)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (231)
2014/06/16 12:20:53 [error] [system.db.CDbCommand] Не удалось выполнить CDbCommand::fetchAll(): SQLSTATE[42883]: Undefined function: 7 ОШИБКА:  функция lower(date) не существует
LINE 8: ... (("o"."id" IN (49)) AND ("d"."id" IN (15))) AND (LOWER(dsbd...
                                                             ^
HINT:  Функция с данными именем и типами аргументов не найдена. Возможно, вам следует добавить явные преобразования типов.. Выполнявшийся SQL-запрос: SELECT DISTINCT "dsbd".*, "o"."first_name" AS "p_first_name", "o"."middle_name" AS "p_middle_name", "o"."last_name" AS "p_last_name", "d"."first_name" AS "d_first_name", "d"."middle_name" AS "d_middle_name", "d"."last_name" AS "d_last_name", "m"."motion", "m"."card_number", "m"."contact", "mdp"."phone", "mdp"."first_name" AS "m_first_name", "mdp"."middle_name" AS "m_middle_name", "mdp"."last_name" AS "m_last_name", "o"."id" AS "oms_id", "mp"."name" AS "post"
FROM "mis"."doctor_shedule_by_day" "dsbd"
LEFT JOIN "mis"."medcards" "m" ON dsbd.medcard_id = m.card_number
LEFT JOIN "mis"."oms" "o" ON m.policy_id = o.id
JOIN "mis"."doctors" "d" ON d.id = dsbd.doctor_id
JOIN "mis"."medpersonal" "mp" ON d.post_id = mp.id
LEFT JOIN "mis"."mediate_patients" "mdp" ON mdp.id = dsbd.mediate_id
WHERE (("o"."id" IN (49)) AND ("d"."id" IN (15))) AND (LOWER(dsbd.patient_day) LIKE '%2014-6-16%')
GROUP BY "dsbd"."id", "o"."first_name", "o"."last_name", "o"."middle_name", "d"."first_name", "d"."last_name", "d"."middle_name", "m"."motion", "o"."id", "mp"."name", "m"."card_number", "mdp"."phone", "mdp"."last_name", "mdp"."middle_name", "mdp"."first_name"
ORDER BY "dsbd"."patient_time".
in Z:\home\mis.my\www\protected\models\SheduleByDay.php (366)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (268)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (216)
2014/06/16 12:30:51 [error] [system.db.CDbCommand] Не удалось выполнить CDbCommand::fetchAll(): SQLSTATE[42883]: Undefined function: 7 ОШИБКА:  функция lower(date) не существует
LINE 8: ... (("o"."id" IN (49)) AND ("d"."id" IN (15))) AND (LOWER(dsbd...
                                                             ^
HINT:  Функция с данными именем и типами аргументов не найдена. Возможно, вам следует добавить явные преобразования типов.. Выполнявшийся SQL-запрос: SELECT DISTINCT "dsbd".*, "o"."first_name" AS "p_first_name", "o"."middle_name" AS "p_middle_name", "o"."last_name" AS "p_last_name", "d"."first_name" AS "d_first_name", "d"."middle_name" AS "d_middle_name", "d"."last_name" AS "d_last_name", "m"."motion", "m"."card_number", "m"."contact", "mdp"."phone", "mdp"."first_name" AS "m_first_name", "mdp"."middle_name" AS "m_middle_name", "mdp"."last_name" AS "m_last_name", "o"."id" AS "oms_id", "mp"."name" AS "post"
FROM "mis"."doctor_shedule_by_day" "dsbd"
LEFT JOIN "mis"."medcards" "m" ON dsbd.medcard_id = m.card_number
LEFT JOIN "mis"."oms" "o" ON m.policy_id = o.id
JOIN "mis"."doctors" "d" ON d.id = dsbd.doctor_id
JOIN "mis"."medpersonal" "mp" ON d.post_id = mp.id
LEFT JOIN "mis"."mediate_patients" "mdp" ON mdp.id = dsbd.mediate_id
WHERE (("o"."id" IN (49)) AND ("d"."id" IN (15))) AND (LOWER(dsbd.patient_day) LIKE '%2014-06-16%')
GROUP BY "dsbd"."id", "o"."first_name", "o"."last_name", "o"."middle_name", "d"."first_name", "d"."last_name", "d"."middle_name", "m"."motion", "o"."id", "mp"."name", "m"."card_number", "mdp"."phone", "mdp"."last_name", "mdp"."middle_name", "mdp"."first_name"
ORDER BY "dsbd"."patient_time".
in Z:\home\mis.my\www\protected\models\SheduleByDay.php (366)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (268)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (216)
2014/06/16 12:31:32 [error] [system.db.CDbCommand] Не удалось выполнить CDbCommand::fetchAll(): SQLSTATE[42883]: Undefined function: 7 ОШИБКА:  функция lower(date) не существует
LINE 8: ... (("o"."id" IN (49)) AND ("d"."id" IN (15))) AND (LOWER(dsbd...
                                                             ^
HINT:  Функция с данными именем и типами аргументов не найдена. Возможно, вам следует добавить явные преобразования типов.. Выполнявшийся SQL-запрос: SELECT DISTINCT "dsbd".*, "o"."first_name" AS "p_first_name", "o"."middle_name" AS "p_middle_name", "o"."last_name" AS "p_last_name", "d"."first_name" AS "d_first_name", "d"."middle_name" AS "d_middle_name", "d"."last_name" AS "d_last_name", "m"."motion", "m"."card_number", "m"."contact", "mdp"."phone", "mdp"."first_name" AS "m_first_name", "mdp"."middle_name" AS "m_middle_name", "mdp"."last_name" AS "m_last_name", "o"."id" AS "oms_id", "mp"."name" AS "post"
FROM "mis"."doctor_shedule_by_day" "dsbd"
LEFT JOIN "mis"."medcards" "m" ON dsbd.medcard_id = m.card_number
LEFT JOIN "mis"."oms" "o" ON m.policy_id = o.id
JOIN "mis"."doctors" "d" ON d.id = dsbd.doctor_id
JOIN "mis"."medpersonal" "mp" ON d.post_id = mp.id
LEFT JOIN "mis"."mediate_patients" "mdp" ON mdp.id = dsbd.mediate_id
WHERE (("o"."id" IN (49)) AND ("d"."id" IN (15))) AND (LOWER(dsbd.patient_day) LIKE '%2014-06-16%')
GROUP BY "dsbd"."id", "o"."first_name", "o"."last_name", "o"."middle_name", "d"."first_name", "d"."last_name", "d"."middle_name", "m"."motion", "o"."id", "mp"."name", "m"."card_number", "mdp"."phone", "mdp"."last_name", "mdp"."middle_name", "mdp"."first_name"
ORDER BY "dsbd"."patient_time".
in Z:\home\mis.my\www\protected\models\SheduleByDay.php (366)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (268)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (216)
2014/06/16 12:32:10 [error] [system.db.CDbCommand] Не удалось выполнить CDbCommand::fetchAll(): SQLSTATE[42883]: Undefined function: 7 ОШИБКА:  функция lower(date) не существует
LINE 8: ... (("o"."id" IN (49)) AND ("d"."id" IN (15))) AND (LOWER(dsbd...
                                                             ^
HINT:  Функция с данными именем и типами аргументов не найдена. Возможно, вам следует добавить явные преобразования типов.. Выполнявшийся SQL-запрос: SELECT DISTINCT "dsbd".*, "o"."first_name" AS "p_first_name", "o"."middle_name" AS "p_middle_name", "o"."last_name" AS "p_last_name", "d"."first_name" AS "d_first_name", "d"."middle_name" AS "d_middle_name", "d"."last_name" AS "d_last_name", "m"."motion", "m"."card_number", "m"."contact", "mdp"."phone", "mdp"."first_name" AS "m_first_name", "mdp"."middle_name" AS "m_middle_name", "mdp"."last_name" AS "m_last_name", "o"."id" AS "oms_id", "mp"."name" AS "post"
FROM "mis"."doctor_shedule_by_day" "dsbd"
LEFT JOIN "mis"."medcards" "m" ON dsbd.medcard_id = m.card_number
LEFT JOIN "mis"."oms" "o" ON m.policy_id = o.id
JOIN "mis"."doctors" "d" ON d.id = dsbd.doctor_id
JOIN "mis"."medpersonal" "mp" ON d.post_id = mp.id
LEFT JOIN "mis"."mediate_patients" "mdp" ON mdp.id = dsbd.mediate_id
WHERE (("o"."id" IN (49)) AND ("d"."id" IN (15))) AND (LOWER(dsbd.patient_day) LIKE '%2014-06-16%')
GROUP BY "dsbd"."id", "o"."first_name", "o"."last_name", "o"."middle_name", "d"."first_name", "d"."last_name", "d"."middle_name", "m"."motion", "o"."id", "mp"."name", "m"."card_number", "mdp"."phone", "mdp"."last_name", "mdp"."middle_name", "mdp"."first_name"
ORDER BY "dsbd"."patient_time".
in Z:\home\mis.my\www\protected\models\SheduleByDay.php (366)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (268)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (216)
2014/06/16 12:35:43 [error] [system.db.CDbCommand] Не удалось выполнить CDbCommand::fetchAll(): SQLSTATE[42883]: Undefined function: 7 ОШИБКА:  функция lower(date) не существует
LINE 8: ... (("o"."id" IN (49)) AND ("d"."id" IN (15))) AND (LOWER(dsbd...
                                                             ^
HINT:  Функция с данными именем и типами аргументов не найдена. Возможно, вам следует добавить явные преобразования типов.. Выполнявшийся SQL-запрос: SELECT DISTINCT "dsbd".*, "o"."first_name" AS "p_first_name", "o"."middle_name" AS "p_middle_name", "o"."last_name" AS "p_last_name", "d"."first_name" AS "d_first_name", "d"."middle_name" AS "d_middle_name", "d"."last_name" AS "d_last_name", "m"."motion", "m"."card_number", "m"."contact", "mdp"."phone", "mdp"."first_name" AS "m_first_name", "mdp"."middle_name" AS "m_middle_name", "mdp"."last_name" AS "m_last_name", "o"."id" AS "oms_id", "mp"."name" AS "post"
FROM "mis"."doctor_shedule_by_day" "dsbd"
LEFT JOIN "mis"."medcards" "m" ON dsbd.medcard_id = m.card_number
LEFT JOIN "mis"."oms" "o" ON m.policy_id = o.id
JOIN "mis"."doctors" "d" ON d.id = dsbd.doctor_id
JOIN "mis"."medpersonal" "mp" ON d.post_id = mp.id
LEFT JOIN "mis"."mediate_patients" "mdp" ON mdp.id = dsbd.mediate_id
WHERE (("o"."id" IN (49)) AND ("d"."id" IN (15))) AND (LOWER(dsbd.patient_day) LIKE '%2014-06-16%')
GROUP BY "dsbd"."id", "o"."first_name", "o"."last_name", "o"."middle_name", "d"."first_name", "d"."last_name", "d"."middle_name", "m"."motion", "o"."id", "mp"."name", "m"."card_number", "mdp"."phone", "mdp"."last_name", "mdp"."middle_name", "mdp"."first_name"
ORDER BY "dsbd"."patient_time".
in Z:\home\mis.my\www\protected\models\SheduleByDay.php (366)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (268)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (216)
2014/06/16 12:42:12 [error] [system.db.CDbCommand] Не удалось выполнить CDbCommand::fetchAll(): SQLSTATE[42883]: Undefined function: 7 ОШИБКА:  функция lower(date) не существует
LINE 24: ... (("o"."id" IN (49)) AND ("d"."id" IN (15))) AND (LOWER(dsbd...
                                                              ^
HINT:  Функция с данными именем и типами аргументов не найдена. Возможно, вам следует добавить явные преобразования типов.. Выполнявшийся SQL-запрос: SELECT DISTINCT dsbd.*,
                                  CAST(dsbd.patient_day as CHARACTER VARYING) as patient_day,
                                  o.first_name as p_first_name,
                                  o.middle_name as p_middle_name,
                                  o.last_name as p_last_name,
                                  d.first_name as d_first_name,
                                  d.middle_name as d_middle_name,
                                  d.last_name as d_last_name,
                                  m.motion,
                                  m.card_number,
                                  m.contact,
                                  mdp.phone,
                                  mdp.first_name as m_first_name,
                                  mdp.middle_name as m_middle_name,
                                  mdp.last_name as m_last_name,
                                  o.id as oms_id,
                                  mp.name as post
FROM "mis"."doctor_shedule_by_day" "dsbd"
LEFT JOIN "mis"."medcards" "m" ON dsbd.medcard_id = m.card_number
LEFT JOIN "mis"."oms" "o" ON m.policy_id = o.id
JOIN "mis"."doctors" "d" ON d.id = dsbd.doctor_id
JOIN "mis"."medpersonal" "mp" ON d.post_id = mp.id
LEFT JOIN "mis"."mediate_patients" "mdp" ON mdp.id = dsbd.mediate_id
WHERE (("o"."id" IN (49)) AND ("d"."id" IN (15))) AND (LOWER(dsbd.patient_day) LIKE '%2014-06-16%')
GROUP BY "dsbd"."id", "o"."first_name", "o"."last_name", "o"."middle_name", "d"."first_name", "d"."last_name", "d"."middle_name", "m"."motion", "o"."id", "mp"."name", "m"."card_number", "mdp"."phone", "mdp"."last_name", "mdp"."middle_name", "mdp"."first_name"
ORDER BY "dsbd"."patient_time".
in Z:\home\mis.my\www\protected\models\SheduleByDay.php (367)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (268)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (216)
2014/06/16 12:45:26 [error] [system.db.CDbCommand] Не удалось выполнить CDbCommand::fetchAll(): SQLSTATE[42883]: Undefined function: 7 ОШИБКА:  оператор не существует: date ~~ unknown
LINE 24: ...AND ("d"."id" IN (15))) AND ("dsbd"."patient_day" LIKE '%201...
                                                              ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные преобразования типов.. Выполнявшийся SQL-запрос: SELECT DISTINCT dsbd.*,
                                  CAST(dsbd.patient_day as CHARACTER VARYING) as patient_day,
                                  o.first_name as p_first_name,
                                  o.middle_name as p_middle_name,
                                  o.last_name as p_last_name,
                                  d.first_name as d_first_name,
                                  d.middle_name as d_middle_name,
                                  d.last_name as d_last_name,
                                  m.motion,
                                  m.card_number,
                                  m.contact,
                                  mdp.phone,
                                  mdp.first_name as m_first_name,
                                  mdp.middle_name as m_middle_name,
                                  mdp.last_name as m_last_name,
                                  o.id as oms_id,
                                  mp.name as post
FROM "mis"."doctor_shedule_by_day" "dsbd"
LEFT JOIN "mis"."medcards" "m" ON dsbd.medcard_id = m.card_number
LEFT JOIN "mis"."oms" "o" ON m.policy_id = o.id
JOIN "mis"."doctors" "d" ON d.id = dsbd.doctor_id
JOIN "mis"."medpersonal" "mp" ON d.post_id = mp.id
LEFT JOIN "mis"."mediate_patients" "mdp" ON mdp.id = dsbd.mediate_id
WHERE (("o"."id" IN (49)) AND ("d"."id" IN (15))) AND ("dsbd"."patient_day" LIKE '%2014-06-16')
GROUP BY "dsbd"."id", "o"."first_name", "o"."last_name", "o"."middle_name", "d"."first_name", "d"."last_name", "d"."middle_name", "m"."motion", "o"."id", "mp"."name", "m"."card_number", "mdp"."phone", "mdp"."last_name", "mdp"."middle_name", "mdp"."first_name"
ORDER BY "dsbd"."patient_time".
in Z:\home\mis.my\www\protected\models\SheduleByDay.php (367)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (268)
in Z:\home\mis.my\www\protected\modules\doctors\controllers\PrintController.php (216)
2014/06/16 16:39:44 [error] [exception.CDbException] exception 'CDbException' with message 'Таблица "mis.roles", упомянутая в записи active record класса "Role", не найдена в базе данных.' in Z:\home\mis.my\yii\db\ar\CActiveRecord.php:2362
Stack trace:
#0 Z:\home\mis.my\yii\db\ar\CActiveRecord.php(411): CActiveRecordMetaData->__construct(Object(Role))
#1 Z:\home\mis.my\yii\db\ar\CActiveRecord.php(79): CActiveRecord->getMetaData()
#2 Z:\home\mis.my\www\protected\components\Controller.php(21): CActiveRecord->__construct()
#3 Z:\home\mis.my\yii\web\filters\CInlineFilter.php(58): Controller->filterGetAccessHierarchy(Object(CFilterChain))
#4 Z:\home\mis.my\yii\web\filters\CFilterChain.php(130): CInlineFilter->filter(Object(CFilterChain))
#5 Z:\home\mis.my\yii\web\CController.php(291): CFilterChain->run()
#6 Z:\home\mis.my\yii\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#7 Z:\home\mis.my\yii\web\CWebApplication.php(282): CController->run('getindicators')
#8 Z:\home\mis.my\yii\web\CWebApplication.php(141): CWebApplication->runController('doctors/patient...')
#9 Z:\home\mis.my\yii\base\CApplication.php(180): CWebApplication->processRequest()
#10 Z:\home\mis.my\www\index.php(13): CApplication->run()
#11 {main}
REQUEST_URI=/index.php/doctors/patient/getindicators?_=1402917537105
HTTP_REFERER=http://mis.my/index.php/reception/shedule/view
---
2014/06/16 16:39:51 [error] [exception.CDbException] exception 'CDbException' with message 'Таблица "mis.roles", упомянутая в записи active record класса "Role", не найдена в базе данных.' in Z:\home\mis.my\yii\db\ar\CActiveRecord.php:2362
Stack trace:
#0 Z:\home\mis.my\yii\db\ar\CActiveRecord.php(411): CActiveRecordMetaData->__construct(Object(Role))
#1 Z:\home\mis.my\yii\db\ar\CActiveRecord.php(79): CActiveRecord->getMetaData()
#2 Z:\home\mis.my\www\protected\components\Controller.php(21): CActiveRecord->__construct()
#3 Z:\home\mis.my\yii\web\filters\CInlineFilter.php(58): Controller->filterGetAccessHierarchy(Object(CFilterChain))
#4 Z:\home\mis.my\yii\web\filters\CFilterChain.php(130): CInlineFilter->filter(Object(CFilterChain))
#5 Z:\home\mis.my\yii\web\CController.php(291): CFilterChain->run()
#6 Z:\home\mis.my\yii\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#7 Z:\home\mis.my\yii\web\CWebApplication.php(282): CController->run('view')
#8 Z:\home\mis.my\yii\web\CWebApplication.php(141): CWebApplication->runController('reception/shedu...')
#9 Z:\home\mis.my\yii\base\CApplication.php(180): CWebApplication->processRequest()
#10 Z:\home\mis.my\www\index.php(13): CApplication->run()
#11 {main}
REQUEST_URI=/index.php/reception/shedule/view
HTTP_REFERER=http://mis.my/index.php/doctors/print/massprintview
---
