2014/05/30 17:05:50 [error] [system.db.CDbCommand] Не удалось выполнить CDbCommand::fetchAll(): SQLSTATE[42703]: Undefined column: 7 ОШИБКА:  колонка m.is_medworker не существует
LINE 5: WHERE ("d"."greeting_type" IN (1, 0)) AND (m.is_medworker = ...
                                                   ^. Выполнявшийся SQL-запрос: SELECT DISTINCT "d".*, "w"."name" AS "ward", "m"."name" AS "post"
FROM "mis"."doctors" "d"
LEFT JOIN "mis"."wards" "w" ON d.ward_code = w.id
LEFT JOIN "mis"."medpersonal" "m" ON d.post_id = m.id
WHERE ("d"."greeting_type" IN (1, 0)) AND (m.is_medworker = 1).
in Z:\home\mis.my\www\protected\models\Doctor.php (93)
in Z:\home\mis.my\www\protected\modules\reception\controllers\DoctorsController.php (57)
in Z:\home\mis.my\www\protected\components\Controller.php (33)
2014/05/30 17:05:50 [error] [exception.CDbException] exception 'CDbException' with message 'CDbCommand не удалось исполнить SQL-запрос: SQLSTATE[42703]: Undefined column: 7 ОШИБКА:  колонка m.is_medworker не существует
LINE 5: WHERE ("d"."greeting_type" IN (1, 0)) AND (m.is_medworker = ...
                                                   ^. The SQL statement executed was: SELECT DISTINCT "d".*, "w"."name" AS "ward", "m"."name" AS "post"
FROM "mis"."doctors" "d"
LEFT JOIN "mis"."wards" "w" ON d.ward_code = w.id
LEFT JOIN "mis"."medpersonal" "m" ON d.post_id = m.id
WHERE ("d"."greeting_type" IN (1, 0)) AND (m.is_medworker = 1)' in Z:\home\mis.my\yii\db\CDbCommand.php:543
Stack trace:
#0 Z:\home\mis.my\yii\db\CDbCommand.php(396): CDbCommand->queryInternal('fetchAll', Array, Array)
#1 Z:\home\mis.my\www\protected\models\Doctor.php(93): CDbCommand->queryAll()
#2 Z:\home\mis.my\www\protected\modules\reception\controllers\DoctorsController.php(57): Doctor->getRows(Array, false, false, false, false, Array, NULL, '1', false)
#3 Z:\home\mis.my\yii\web\actions\CInlineAction.php(49): DoctorsController->actionSearch()
#4 Z:\home\mis.my\yii\web\CController.php(308): CInlineAction->runWithParams(Array)
#5 Z:\home\mis.my\yii\web\filters\CFilterChain.php(133): CController->runAction(Object(CInlineAction))
#6 Z:\home\mis.my\www\protected\components\Controller.php(33): CFilterChain->run()
#7 Z:\home\mis.my\yii\web\filters\CInlineFilter.php(58): Controller->filterGetAccessHierarchy(Object(CFilterChain))
#8 Z:\home\mis.my\yii\web\filters\CFilterChain.php(130): CInlineFilter->filter(Object(CFilterChain))
#9 Z:\home\mis.my\yii\web\CController.php(291): CFilterChain->run()
#10 Z:\home\mis.my\yii\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#11 Z:\home\mis.my\yii\web\CWebApplication.php(282): CController->run('search')
#12 Z:\home\mis.my\yii\web\CWebApplication.php(141): CWebApplication->runController('reception/docto...')
#13 Z:\home\mis.my\yii\base\CApplication.php(180): CWebApplication->processRequest()
#14 Z:\home\mis.my\www\index.php(13): CApplication->run()
#15 {main}
REQUEST_URI=/index.php/reception/doctors/search/?filters={%22groupOp%22:%22AND%22,%22rules%22:[{%22field%22:%22ward_code%22,%22op%22:%22eq%22,%22data%22:%22-1%22},{%22field%22:%22post_id%22,%22op%22:%22eq%22,%22data%22:%22-1%22},{%22field%22:%22greeting_type%22,%22op%22:%22eq%22,%22data%22:%220%22},{%22field%22:%22middle_name%22,%22op%22:%22cn%22,%22data%22:%22%22},{%22field%22:%22last_name%22,%22op%22:%22cn%22,%22data%22:%22%22},{%22field%22:%22first_name%22,%22op%22:%22cn%22,%22data%22:%22%22},{%22field%22:%22diagnosis%22,%22op%22:%22in%22,%22data%22:[]}]}&rows=15&page=1&sidx=d.middle_name&sord=desc&_=1401455143172
HTTP_REFERER=http://mis.my/index.php/reception/patient/writepatientsteptwo/?cardid=1/13
---
2014/05/30 17:06:16 [error] [system.db.CDbCommand] Не удалось выполнить CDbCommand::fetchAll(): SQLSTATE[42703]: Undefined column: 7 ОШИБКА:  колонка m.is_medworker не существует
LINE 5: WHERE ("d"."greeting_type" IN (1, 0)) AND (m.is_medworker = ...
                                                   ^. Выполнявшийся SQL-запрос: SELECT DISTINCT "d".*, "w"."name" AS "ward", "m"."name" AS "post"
FROM "mis"."doctors" "d"
LEFT JOIN "mis"."wards" "w" ON d.ward_code = w.id
LEFT JOIN "mis"."medpersonal" "m" ON d.post_id = m.id
WHERE ("d"."greeting_type" IN (1, 0)) AND (m.is_medworker = 1).
in Z:\home\mis.my\www\protected\models\Doctor.php (93)
in Z:\home\mis.my\www\protected\modules\reception\controllers\DoctorsController.php (57)
in Z:\home\mis.my\www\protected\components\Controller.php (33)
2014/05/30 17:06:16 [error] [exception.CDbException] exception 'CDbException' with message 'CDbCommand не удалось исполнить SQL-запрос: SQLSTATE[42703]: Undefined column: 7 ОШИБКА:  колонка m.is_medworker не существует
LINE 5: WHERE ("d"."greeting_type" IN (1, 0)) AND (m.is_medworker = ...
                                                   ^. The SQL statement executed was: SELECT DISTINCT "d".*, "w"."name" AS "ward", "m"."name" AS "post"
FROM "mis"."doctors" "d"
LEFT JOIN "mis"."wards" "w" ON d.ward_code = w.id
LEFT JOIN "mis"."medpersonal" "m" ON d.post_id = m.id
WHERE ("d"."greeting_type" IN (1, 0)) AND (m.is_medworker = 1)' in Z:\home\mis.my\yii\db\CDbCommand.php:543
Stack trace:
#0 Z:\home\mis.my\yii\db\CDbCommand.php(396): CDbCommand->queryInternal('fetchAll', Array, Array)
#1 Z:\home\mis.my\www\protected\models\Doctor.php(93): CDbCommand->queryAll()
#2 Z:\home\mis.my\www\protected\modules\reception\controllers\DoctorsController.php(57): Doctor->getRows(Array, false, false, false, false, Array, NULL, '1', false)
#3 Z:\home\mis.my\yii\web\actions\CInlineAction.php(49): DoctorsController->actionSearch()
#4 Z:\home\mis.my\yii\web\CController.php(308): CInlineAction->runWithParams(Array)
#5 Z:\home\mis.my\yii\web\filters\CFilterChain.php(133): CController->runAction(Object(CInlineAction))
#6 Z:\home\mis.my\www\protected\components\Controller.php(33): CFilterChain->run()
#7 Z:\home\mis.my\yii\web\filters\CInlineFilter.php(58): Controller->filterGetAccessHierarchy(Object(CFilterChain))
#8 Z:\home\mis.my\yii\web\filters\CFilterChain.php(130): CInlineFilter->filter(Object(CFilterChain))
#9 Z:\home\mis.my\yii\web\CController.php(291): CFilterChain->run()
#10 Z:\home\mis.my\yii\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#11 Z:\home\mis.my\yii\web\CWebApplication.php(282): CController->run('search')
#12 Z:\home\mis.my\yii\web\CWebApplication.php(141): CWebApplication->runController('reception/docto...')
#13 Z:\home\mis.my\yii\base\CApplication.php(180): CWebApplication->processRequest()
#14 Z:\home\mis.my\www\index.php(13): CApplication->run()
#15 {main}
REQUEST_URI=/index.php/reception/doctors/search/?filters={%22groupOp%22:%22AND%22,%22rules%22:[{%22field%22:%22ward_code%22,%22op%22:%22eq%22,%22data%22:%22-1%22},{%22field%22:%22post_id%22,%22op%22:%22eq%22,%22data%22:%22-1%22},{%22field%22:%22greeting_type%22,%22op%22:%22eq%22,%22data%22:%220%22},{%22field%22:%22middle_name%22,%22op%22:%22cn%22,%22data%22:%22%22},{%22field%22:%22last_name%22,%22op%22:%22cn%22,%22data%22:%22%22},{%22field%22:%22first_name%22,%22op%22:%22cn%22,%22data%22:%22%22},{%22field%22:%22diagnosis%22,%22op%22:%22in%22,%22data%22:[]}]}&rows=15&page=1&sidx=d.middle_name&sord=desc&_=1401455143172
---
2014/05/30 17:06:38 [error] [system.db.CDbCommand] Не удалось выполнить CDbCommand::fetchAll(): SQLSTATE[42703]: Undefined column: 7 ОШИБКА:  колонка m.is_medworker не существует
LINE 5: ...лова%') AND ("d"."greeting_type" IN (1, 0))) AND (m.is_medwo...
                                                             ^. Выполнявшийся SQL-запрос: SELECT DISTINCT "d".*, "w"."name" AS "ward", "m"."name" AS "post"
FROM "mis"."doctors" "d"
LEFT JOIN "mis"."wards" "w" ON d.ward_code = w.id
LEFT JOIN "mis"."medpersonal" "m" ON d.post_id = m.id
WHERE ((LOWER(d.last_name) LIKE '%белова%') AND ("d"."greeting_type" IN (1, 0))) AND (m.is_medworker = 1).
in Z:\home\mis.my\www\protected\models\Doctor.php (93)
in Z:\home\mis.my\www\protected\modules\reception\controllers\DoctorsController.php (57)
in Z:\home\mis.my\www\protected\components\Controller.php (33)
2014/05/30 17:06:38 [error] [exception.CDbException] exception 'CDbException' with message 'CDbCommand не удалось исполнить SQL-запрос: SQLSTATE[42703]: Undefined column: 7 ОШИБКА:  колонка m.is_medworker не существует
LINE 5: ...лова%') AND ("d"."greeting_type" IN (1, 0))) AND (m.is_medwo...
                                                             ^. The SQL statement executed was: SELECT DISTINCT "d".*, "w"."name" AS "ward", "m"."name" AS "post"
FROM "mis"."doctors" "d"
LEFT JOIN "mis"."wards" "w" ON d.ward_code = w.id
LEFT JOIN "mis"."medpersonal" "m" ON d.post_id = m.id
WHERE ((LOWER(d.last_name) LIKE '%белова%') AND ("d"."greeting_type" IN (1, 0))) AND (m.is_medworker = 1)' in Z:\home\mis.my\yii\db\CDbCommand.php:543
Stack trace:
#0 Z:\home\mis.my\yii\db\CDbCommand.php(396): CDbCommand->queryInternal('fetchAll', Array, Array)
#1 Z:\home\mis.my\www\protected\models\Doctor.php(93): CDbCommand->queryAll()
#2 Z:\home\mis.my\www\protected\modules\reception\controllers\DoctorsController.php(57): Doctor->getRows(Array, false, false, false, false, Array, NULL, '1', false)
#3 Z:\home\mis.my\yii\web\actions\CInlineAction.php(49): DoctorsController->actionSearch()
#4 Z:\home\mis.my\yii\web\CController.php(308): CInlineAction->runWithParams(Array)
#5 Z:\home\mis.my\yii\web\filters\CFilterChain.php(133): CController->runAction(Object(CInlineAction))
#6 Z:\home\mis.my\www\protected\components\Controller.php(33): CFilterChain->run()
#7 Z:\home\mis.my\yii\web\filters\CInlineFilter.php(58): Controller->filterGetAccessHierarchy(Object(CFilterChain))
#8 Z:\home\mis.my\yii\web\filters\CFilterChain.php(130): CInlineFilter->filter(Object(CFilterChain))
#9 Z:\home\mis.my\yii\web\CController.php(291): CFilterChain->run()
#10 Z:\home\mis.my\yii\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#11 Z:\home\mis.my\yii\web\CWebApplication.php(282): CController->run('search')
#12 Z:\home\mis.my\yii\web\CWebApplication.php(141): CWebApplication->runController('reception/docto...')
#13 Z:\home\mis.my\yii\base\CApplication.php(180): CWebApplication->processRequest()
#14 Z:\home\mis.my\www\index.php(13): CApplication->run()
#15 {main}
REQUEST_URI=/index.php/reception/doctors/search/?filters={%22groupOp%22:%22AND%22,%22rules%22:[{%22field%22:%22ward_code%22,%22op%22:%22eq%22,%22data%22:%22-1%22},{%22field%22:%22post_id%22,%22op%22:%22eq%22,%22data%22:%22-1%22},{%22field%22:%22greeting_type%22,%22op%22:%22eq%22,%22data%22:%220%22},{%22field%22:%22middle_name%22,%22op%22:%22cn%22,%22data%22:%22%22},{%22field%22:%22last_name%22,%22op%22:%22cn%22,%22data%22:%22%D0%B1%D0%B5%D0%BB%D0%BE%D0%B2%D0%B0%22},{%22field%22:%22first_name%22,%22op%22:%22cn%22,%22data%22:%22%22},{%22field%22:%22diagnosis%22,%22op%22:%22in%22,%22data%22:[]}]}&rows=15&page=1&sidx=d.middle_name&sord=desc&_=1401455184967
HTTP_REFERER=http://mis.my/index.php/reception/patient/writepatientsteptwo/?cardid=1/13
---
2014/05/30 17:11:39 [error] [system.db.CDbCommand] Не удалось выполнить CDbCommand::fetchAll(): SQLSTATE[42601]: Syntax error: 7 ОШИБКА:  ошибка синтаксиса (примерное положение: ")")
LINE 9: WHERE dsbd.id in ()
                          ^. Выполнявшийся SQL-запрос: SELECT dsbd.*, d.first_name,d.middle_name,d.last_name,
 					SUBSTR(
 						CAST(dsbd.patient_time AS text),
 						0,
 						CHAR_LENGTH(CAST(dsbd.patient_time AS text)) - 2
 					) AS patient_time
FROM "mis"."doctor_shedule_by_day" "dsbd"
LEFT JOIN "mis"."doctors" "d" ON dsbd.doctor_id = d.id
WHERE dsbd.id in ()
 					.
in Z:\home\mis.my\www\protected\models\SheduleByDay.php (114)
in Z:\home\mis.my\www\protected\modules\admin\controllers\SheduleController.php (483)
in Z:\home\mis.my\www\protected\modules\admin\controllers\SheduleController.php (557)
